\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{stmaryrd}
\usepackage{enumerate}
\usepackage{algorithmic}

\author{Pierre Gimalac \& Alexandre Moine\\\small{Encadré par François Laroussinie}}
\title{Rapport de Projet\\Mathématiques-Informatique}
\begin{document}
\maketitle

\section{CTL, une logique temporelle}
\subsection{Définition}
CTL (pour \textit{Computation Tree Logic}) est une logique temporelle ; CTL contient la logique propositionnelle usuelle et ajoute des opérateurs temporels.

Elle permet par exemple d'exprimer des propriétés comme ``il existe une exécution telle que la variable \textit{a} soit toujours vraie''.

\subsection{Grammaire}
La grammaire de CTL est définie de la manière suivante :
\begin{align*}
\phi &::= \bot \mid \top \mid p \mid \neg \phi \mid \phi\land\phi \mid \phi\lor\phi \mid \\
&\quad \mbox{AX }\phi \mid \mbox{EX }\phi \mid
\mbox{A }\phi \mbox{ W } \phi \mid \mbox{E }\phi \mbox{ W } \phi \mid
\mbox{A }\phi \mbox{ U } \phi \mid \mbox{E }\phi \mbox{ U } \phi
\end{align*}

Ici, $p$ représente une proposition atomique d'un ensemble $\Omega$.

On définit aussi d'autres opérateurs utiles :
\begin{itemize}
	\item $\mbox{AF } \phi := \mbox{A } \top \mbox{ U } \phi$
	\item $\mbox{EG } \phi := \neg (\mbox{AF } (\neg \phi))$
	\item $\mbox{EF } \phi := \mbox{E } \top \mbox{ U } \phi$
	\item $\mbox{AG } \phi := \neg (\mbox{EF } (\neg \phi))$
\end{itemize}

\subsection{Sémantique de CTL}
Les modèles de CTL sont appelés des \emph{structures de Kripke}.

\subsubsection{Structures de Kripke}
Une structure de Kripke sera ici identifiée à la donnée de $(Q,T,q_0,l)$ où:
\begin{itemize}
\item Le couple $(Q,T, q_0)$ est un automate : $Q$ est un ensemble d'états, $T \subseteq Q \times Q$ est l'ensemble des transitions et $q_0 \in Q$ représente l'état de départ.
\item $l : Q \to \Omega$ est une fonction d'étiquetage.
\end{itemize}

\subsubsection{Exécution}
Soit $\mathcal{A} = (Q,T,q_0,l)$ une structure de Kripke.
On dira que $\sigma : \mathbb{N} \to Q$ est une \emph{exécution} de $\cal{A}$ (ne partant pas forcément de l'état initial) si et seulement si $\forall i \in \mathbb{N}, (\sigma (i), \sigma (i+1)) \in T$.

\subsubsection{Satisfaction}
Soit $\mathcal{A} = (Q,T,q_0,l)$ une structure de Kripke, $\phi$ une formule de CTL et $\sigma$ une exécution de $\mathcal{A}$.\\
Pour tout $i \in \mathbb{N}$, on dira que "$\phi$ est vraie au temps $i$ de l'exécution de $\sigma$" si et seulement si $A,\sigma,i \vDash \phi$. On omettra souvent la donnée de $\mathcal{A}$ dans notre écriture.\\
On définit $\sigma,i \vDash \phi$ par induction sur $\phi$:\\
\\
\begin{tabular}{lcl}
$\sigma,i \nvDash \bot$ &&\\
$\sigma,i \vDash \top$ &&\\
$\sigma,i \vDash p$ &ssi& $p \in l (\sigma(i))$\\
$\sigma,i \vDash \neg \psi$ &ssi& $\sigma,i \nvDash \psi$\\
$\sigma,i \vDash \psi_1 \land \psi_2$ &ssi& $\sigma,i \vDash \psi_1$ et $\sigma,i \vDash \psi_2$\\
$\sigma,i \vDash \psi_1 \lor \psi_2$ &ssi& $\sigma,i \vDash \psi_1$ ou $\sigma,i \vDash \psi_2$\\
$\sigma,i \vDash \mbox{EX } \psi$ &ssi& $\exists \sigma'$, $\forall j \leq i$: $\sigma(j) = \sigma'(j)$ et $\sigma',i+1 \vDash \psi$\\
$\sigma,i \vDash \mbox{AX } \psi$ &ssi& $\forall \sigma'$, $\forall j \leq i$: $\sigma(j) = \sigma'(j)$ et $\sigma',i+1 \vDash \psi$\\

$\sigma,i \vDash \mbox{E } \psi_1 \mbox{ U } \psi_2$ &ssi& $\exists \sigma'$, $\forall j \leq i$: $\sigma(j) = \sigma'(j)$ et\\
& & $\exists k \geq i$: $\sigma',k\vDash \psi_2$ et $\forall n \in \llbracket i; k \llbracket$, $\sigma',n \vDash \psi_1$\\

$\sigma,i \vDash \mbox{A } \psi_1 \mbox{ U } \psi_2$ &ssi& $\forall \sigma'$, $\forall j \leq i$: $\sigma(j) = \sigma'(j)$ et\\
& & $\exists k \geq i$: $\sigma',k\vDash \psi_2$ et $\forall n \llbracket i; k \llbracket$: $\sigma',n \vDash \psi_1$\\

$\sigma,i \vDash \mbox{E } \psi_1 \mbox{ W } \psi_2$ &ssi& $\exists \sigma'$ tel que $\forall j \leq i$: $\sigma(j) = \sigma'(j)$,\\
& & soit $\exists k \geq i$: $\sigma',k\vDash \psi_2$ et $\forall n \in \llbracket i; k \llbracket$: $\sigma',n \vDash \psi_1$\\
& & soit $\forall n \geq i$: $\sigma',n \vDash \psi_1$\\

$\sigma,i \vDash \mbox{A } \psi_1 \mbox{ W } \psi_2$ &ssi& $\forall \sigma'$ tel que $\forall j \leq i$: $\sigma(j) = \sigma'(j)$, \\
& & soit $\exists k \geq i$: $\sigma',k\vDash \psi_2$ et $\forall n \in \llbracket i; k \llbracket$: $\sigma',n \vDash \psi_1$\\
& & soit $\forall n \geq i$: $\sigma',n \vDash \psi_1$\\
\end{tabular}

\subsection{Satisfaction morale}
On peut donner un sens moral aux formules de CTL:\\

\begin{tabular}{lcl}
$\sigma,i \vDash \top$ && est toujours vrai\\
$\sigma,i \vDash \bot$ && n'est jamais vrai\\
$\sigma,i \vDash p$ &ssi& $p$ est une étiquette de $\sigma(i)$\\
$\sigma,i \vDash \neg \psi$ &ssi& $\sigma(i)$ ne vérifie pas $\phi$\\
$\sigma,i \vDash \psi_1 \land \psi_2$ &ssi& $\sigma(i)$ vérifie $\phi_1$ et $\sigma(i)$ vérifie $\phi_2$\\
$\sigma,i \vDash \psi_1 \lor \psi_2$ &ssi& $\sigma(i)$ vérifie $\phi_1$ ou $\sigma(i)$ vérifie $\phi_2$\\
$\sigma,i \vDash \mbox{EX } \psi$ &ssi& il existe un successeur de $\sigma(i)$ vérifiant $\psi$\\
$\sigma,i \vDash \mbox{AX } \psi$ &ssi& tous les successeurs de $\sigma(i)$ vérifient $\psi$\\
$\sigma,i \vDash \mbox{E } \psi_1 \mbox{ U } \psi_2$ &ssi& il existe un chemin à partir de $\sigma(i)$ tel que $\psi_1$\\&& est vrai jusqu'à ce que $\psi_2$ le soit (et il le sera un jour)\\

$\sigma,i \vDash \mbox{A } \psi_1 \mbox{ U } \psi_2$ &ssi& pour tout chemin partant de $\sigma(i)$, $\psi_1$ est vrai \\&& jusqu'à ce que $\psi_2$ le soit (et il le sera un jour)\\

$\sigma,i \vDash \mbox{E } \psi_1 \mbox{ W } \psi_2$ &ssi& il existe un chemin à partir de $\sigma(i)$ tel que $\psi_1$\\&& est vrai jusqu'à ce que, peut-être, $\psi_2$ le soit\\

$\sigma,i \vDash \mbox{A } \psi_1 \mbox{ W } \psi_2$ &ssi& pour tout chemin partant de $\sigma(i)$, $\psi_1$ est vrai \\&& jusqu'à ce que, peut-être, $\psi_2$ le soit\\
\end{tabular}

\subsection{Négation}
On peut définir la fonction $neg:CTL \to CTL$ qui permet de transformer une formule de CTL de la forme $\neg \phi$ en formule équivalente où toutes les négations sont sur les littéraux :
\begin{align*}
&neg(\top) = \bot \quad neg(\bot) = \top\\
&neg(p) = \neg p \quad neg(\neg \phi) = \phi\\
&neg(a \lor b) = neg(a) \land neg(b)\\
&neg(a \land b) = neg(a) \lor neg(b)\\
&neg(\mbox{AX } \phi) = \mbox{EX }neg(\phi)\\
&neg(\mbox{EX } \phi) = \mbox{AX }neg(\phi)\\
&neg(\mbox{E } \phi \mbox{ U } \psi) =\mbox{A } (neg(\psi)) \mbox{ W } (neg(\phi) \land neg(\psi))\\
&neg(\mbox{A } \phi \mbox{ U } \psi) =\mbox{E } (neg(\psi)) \mbox{ W } (neg(\phi) \land neg(\psi))\\
&neg(\mbox{E } \phi \mbox{ W } \psi) =\mbox{A } (neg(\psi)) \mbox{ U } (neg(\phi) \land neg(\psi))\\
&neg(\mbox{A } \phi \mbox{ W } \psi) =\mbox{E } (neg(\psi)) \mbox{ U } (neg(\phi) \land neg(\psi))
\end{align*}

\section{Model-checking de CTL: jeux faibles de parité}
Le but ici est de parvenir à créer un jeu à partir d'une formule et d'une structure de Kripke où deux joueurs (nommés Ève et Adam) s'affrontent, et Ève gagne si et seulement si la formule est vraie dans la structure donnée.

\subsection{Jeux de parité}
\label{fpg}
On appelle \emph{jeu de parité} un quadruplet $G = (V_E, V_A, R, c)$ où:
\begin{itemize}
\item $V_E$ (respectivement $V_A$) est l'ensemble des états jouables par Ève (respectivement Adam). On demande de plus que $V_e \cap V_a = \emptyset$. On note $V = V_e \sqcup V_a$.
\item $R \subseteq V \times V$ est une relation de transition.
\item $c : V \to (\mathbb{N} \cup \{\bot\})$ est une fonction qui associe une couleur ou $\bot$ à chaque état.
\end{itemize}

\subsubsection{Stratégie}
On appelle $\omega : V' \to V$ ($V' \subseteq V$) une stratégie d'un joueur si et seulement si $\forall v \in V, (v,\omega(v)) \in R$.\\
De plus, une stratégie $\omega$ est dite gagnante pour:
\begin{itemize}
	\item Ève, si et seulement si:
	\begin{itemize}
		\item Soit Adam est bloqué: $\exists v \in V'$ tel que $\omega(v) \mod 2 = 1$ et $\nexists z \in V, (\omega(v), z) \in R$.
		\item Soit Ève visite infiniment souvent uniquement des états pairs: $\omega$ n'est pas injective (la stratégie boucle) et $\forall x \in \{\omega^n(q_0)\ |\ n\in \mathbb{N}, \exists m \in \mathbb{N}, n \neq  m \land \omega^n(q_0) = \omega^m(q_0)\}$, $x \mod 2 = 0$.
	\end{itemize}
	\item Adam, si et seulement si:
	\begin{itemize}
		\item Soit Ève est bloquée: $\exists v \in V'$ tel que $\omega(v) \mod 2 = 2$ et $\nexists z \in V, (\omega(v), z) \in R$.
		\item Soit Adam visite infiniment souvent des états impairs: $\omega$ n'est pas injective (la stratégie boucle) et $\forall x \in \{\omega^n(q_0)\ |\ n\in \mathbb{N}, \exists m \in \mathbb{N}, n \neq  m \land \omega^n(q_0) = \omega^m(q_0)\}$, $x \mod 2 = 1$.
\end{itemize}
\end{itemize}

Une partie est une séquence d'états $\gamma_i$ telle que $\forall i \in I \subseteq \mathbb{N}, (\gamma_i,\gamma_{i+1}) \in R$. Si $I$ est fini, on demande alors que $\gamma_{max(I)}$ n'ait pas de successeurs par $R$.

\subsection{Jeux faibles de parité}

On dit qu'un jeu de parité $G = (V_E,V_A,R,c)$ est \emph{faible}  si et seulement si il existe $V_1$, ..., $V_k$ une partition de $V = V_E \sqcup V_A$ telle que:
\begin{enumerate}[a)]
\item La couleur soit la même pour tous les états d'une classe de la partition : $\forall i \in \llbracket 1 ; k \rrbracket$, $\forall x, y \in V_i$, $(c(x) \neq \bot \land c(y) \neq \bot)  \implies c(x) = c(y)$
\item La partition représente une convergence du jeu :\\
$\forall (x, y) \in R$, $x\in V_i, y \in V_j \Rightarrow i \leq j$.
\end{enumerate}

\subsection{Algorithme de construction du jeu}
Nous allons maintenant définir un algorithme qui permet de construire un jeu de parité à partir d'une formule de CTL et d'une structure de Kripke. Nous allons ensuite montrer que ce jeu est \emph{faible} et que Ève gagne si et seulement si la formule est vraie dans la structure. Plus précisément, nous allons donner ici la fonction de transition du jeu.

Soit $\phi$ une formule de CTL et $K = (Q,T,q_0,l)$  une structure de Kripke.
On va construire un jeu de parité $G = (V_E,V_A,R,c)$ où:
\begin{itemize}
	\item $V = Q \times SF(\phi)$
	\item $V_A = \{(i, \top ) \in V\} \cup \{(i, \phi) \in V, \phi = \phi_1 \land \phi_2 \mid \mbox{AX } \phi_1\mid \mbox{A } \phi_1 \mbox{ U } \phi_2 \mid \mbox{A } \phi_1 \mbox{ W } \phi_2\}$
	\item $V_E = V \backslash V_A$
	\item $\forall (s,v) \in V, c(s,v) = poids(v) \mod 2$
\end{itemize}
Avec:
\begin{align*}
&poids : CTL \to \mathbb{N} \\
&poids\ v =
  \begin{cases}
    2 &\mbox{si } v = \mbox{EW ou AW} \\
    1 &\mbox{si } v = \mbox{EU ou AU} \\
    0 &\mbox{si } \mbox{sinon}
  \end{cases}
\end{align*}

On peut maintenant définir $R$, la relation de transition, en définissant la fonction $succ : V \to P(V)$ qui à un état associe la liste de ses successeurs.\\

On définit $succ$:
\begin{itemize}
\item$ succ(s, \bot) = succ(s, \top) = \emptyset$
\item $succ(s, p) = \{(s,\top)\}$ si $p \in l(s)$, $\{(s,\bot)\}$ sinon
\item $succ(s, \neg p) = \{(s,\bot)\}$ si $p \in l(s)$, $\{(s,\top)\}$ sinon
\item $succ(s,\phi \land \psi) = succ(s, \phi \lor \psi) = \{(s,\phi), (s,\psi) \}$
\item $succ(s,EX \phi) = succ(s, AX \phi) = \{ (s', \phi) \mid (s,s') \in T \} $
\item $succ(s, \mbox{E } \phi \mbox{ U } \psi) = \{ (s,\psi), (s, \phi \land \mbox{EX }  (\mbox{E } \phi \mbox{ U } \psi)) \}$
\item $succ(s, \mbox{A } \phi \mbox{ U } \psi) = \{ (s,\psi), (s, \phi \land \mbox{AX }  (\mbox{A } \phi \mbox{ U } \psi)) \}$
\item $succ(s, \mbox{E } \phi \mbox{ W } \psi) = \{ (s,\psi), (s, \phi \land \mbox{EX }  (\mbox{E } \phi \mbox{ W } \psi)) \}$
\item $succ(s, \mbox{A } \phi \mbox{ W } \psi) = \{ (s,\psi), (s, \phi \land \mbox{AX } (\mbox{A } \phi \mbox{ W } \psi)) \}$
\end{itemize}

\subsubsection{Jeu faible}
Montrons que le jeu défini par $succ$ avec comme état initial $start = (q_0, \phi)$.
 est un jeu \emph{faible}, donc qu'il existe une partition finie de $V$ telle que a) et b) (définies en Section \ref{fpg}) soient vraies.

On identifie le jeu à un graphe et on va montrer que la partition $V_1, \dots, V_k$ des composantes fortement connexes dans un ordre topologique (les CFC forment un graphe acyclique) du jeu satisfait les conditions.

\paragraph{a)}
$\forall i \in \llbracket 1 ; k \rrbracket$, $\forall x,y \in V_i$ tel que $x \neq y$ et $c(x) \neq \bot$ et $c(y) \neq \bot$.\\
Supposons que $c(x) \neq c(y)$. Cela implique que, en supposant que (quitte à renommer $x$ en $y$), $c(x) = 0$, et puisque $x \neq y$, on en déduit que: $x = (\_,\_W)$ et $y = (\_,\_U)$. C'est absurde.

\paragraph{b)} est trivialement vraie: les $V_i$ sont ordonnées par ordre topologique.

\subsubsection{Jeu correct}
Montrons maintenant qu'Ève a une stratégie gagnante dans $G$ si, et seulement si, $\exists \sigma$: $\sigma,q_0 \vDash \phi$.

\paragraph{$\implies$}
On suppose qu'Ève a une stratégie gagnante à partir de $(q_0, \phi)$. On va montrer que $\exists \sigma$: $\sigma,q_0 \vDash \phi$. On procède par récurrence sur $\phi$.

\begin{itemize}
\item $\phi = p$. C'est à Ève de jouer et $succ(q_0,\phi) = \{(q_0, \top)\}$ ou $succ(q_0,\phi) = \{(q_0, \bot)\}$. Il y a donc une seule exécution possible, $\sigma$. Comme Ève a une stratégie gagnante, c'est qu'elle n'est pas bloquée dans le prochain état. Donc Adam l'est, donc $succ(q_0,\phi) = \{(q_0, \top)\}$, donc $p \in l(q_0)$ donc, $\sigma,q_0 \vDash \phi$.

\item $\phi = \neg p$. C'est à Ève de jouer et $succ(q_0,\phi) = \{(q_0, \top)\}$ ou $succ(q_0,\phi) = \{(q_0, \bot)\}$. Il y a donc une seule exécution possible, $\sigma$. Comme Ève a une stratégie gagnante, c'est qu'elle n'est pas bloquée dans le prochain état. Donc Adam l'est, donc $succ(q_0,\phi) = \{(q_0, \top)\}$, donc $p \notin l(q_0)$ donc, $\sigma,q_0 \vDash \phi$.

\item $\phi = \psi_2 \lor \psi_2$. On a donc $succ(q_0,\phi) = \{(q_0, \psi_1); (q_0, \psi_2) \}$ et c'est à Ève de jouer. Comme Ève a une stratégie gagnante, elle choisit dans quel état aller, mettons $(q_o, \psi_1)$. Elle a donc une stratégie gagnante à partir de $(q_0, \psi_1)$, donc par hypothèse de récurrence, $\exists \sigma$: $\sigma,q_0 \vDash \psi_1$. Donc $\sigma,q_0 \vDash \phi$. Il en va de même si Ève choisit d'aller en $(q_o, \psi_2)$.

\item $\phi = \psi_2 \land \psi_2$. On a donc $succ(q_0,\phi) = \{(q_0, \psi_1); (q_0, \psi_2) \}$ et c'est à Adam de jouer. Comme Ève a une stratégie gagnante, quelque soit l'état que choisit Adam, elle a une stratégie gagnante à partir de ce nouvel état, donc par hypothèse de récurrence, $\exists \sigma$: $\sigma,q_0 \vDash \psi_1$ et $\sigma,q_0 \vDash \psi_2$ . Donc $\sigma,q_0 \vDash \phi$.

\item $\phi = \mbox{EX } \psi$. Donc $succ(q_0, \phi) = \{ (q, \psi) \mid (q_0,q) \in T \} $ et c'est à Ève de jouer. Comme elle a une stratégie gagnante, il existe un successeur $q$ de $q_0$ tel qu'elle ai une stratégie gagnante à partir de $q$ et donc par récurrence que $\sigma \circ (+ 1), q \vDash \psi$. Donc $\sigma, q_0 \vDash \phi$.

\item $\phi = \mbox{AX } \psi$. Donc $succ(q_0, \phi) = \{ (q, \psi) \mid (q_0,q) \in T \} $ et c'est à Adam de jouer. Comme Ève a une stratégie gagnante, pour tous les successeurs $q$ de $q_0$, elle une stratégie gagnante à partir de $q$ et donc par récurrence que $\sigma \circ (+ 1), q \vDash \psi$. Donc $\sigma, q_0 \vDash \phi$.

\item $\phi = \mbox{E } \psi_1 \mbox{ W } \psi_2$. Donc $succ(\phi) = \{ (s,\psi_2), (s, \psi_1 \land \phi) \}$. Ève a une stratégie gagnante, deux cas sont possibles :
\begin{itemize}
	\item Soit Ève choisit $(s,\psi_2)$, et par hypothèse de récurrence $\sigma, q_0 \vDash \psi_2$ et donc $\sigma, q_0 \vDash \phi$.
	\item Soit Ève choisit TODO
\end{itemize}
\end{itemize}

\paragraph{$\Longleftarrow$}
Soit $\sigma$ tel que $\sigma,q_0 \vDash \phi$. On doit en déduire une stratégie gagnante pour Ève.\\
On procède par récurrence sur $\phi$ :
\begin{itemize}
\item $\phi = p$, c'est à Ève de jouer et comme $\sigma,q_0 \vDash \phi$, cela veut dire que $p \in l(q_0)$, donc $succ(q_0,\phi) = \{(q_0, \top)\}$, donc Adam est bloqué, donc Ève gagne.
\item $\phi = \neg p$, c'est à Ève de jouer et comme $\sigma,q_0 \vDash \phi$, cela veut dire que $p \notin l(q_0)$, donc $succ(q_0,\phi) = \{(q_0, \top)\}$, donc Adam est bloqué, donc Ève gagne.

\item $\phi = \psi_2 \lor \psi_2$. On a donc $succ(q_0,\phi) = \{(q_0, \psi_1); (q_0, \psi_2) \}$ et c'est à Ève de jouer. Comme $\sigma,q_0 \vDash \phi$, $\sigma,q_0 \vDash \psi_1$ ou $\sigma,q_0 \vDash \psi_2$. Si, par exemple, $\sigma,q_0 \vDash \psi_1$, par hypothèse de récurrence, on a qu'Ève a une stratégie gagnante à partir de l'état $(q_0, \psi_1)$. Ève peut donc choisir d'aller dans cet état, et elle gagne. On procède de la même façon si $(q_0, \psi_2)$.

\item $\phi = \psi_2 \land \psi_2$. On a donc $succ(q_0,\phi) = \{(q_0, \psi_1); (q_0, \psi_2) \}$ et c'est à Adam de jouer. Comme $\sigma,q_0 \vDash \phi$, $\sigma,q_0 \vDash \psi_1$ et $\sigma,q_0 \vDash \psi_2$. On a donc par hypothèse de récurrence, qu'Ève a une stratégie gagnante à partir de l'état $(q_0, \psi_1)$ et à partir de l'état $(q_0, \psi_2)$. Donc, quel que soit le coup que va jouer Adam, Ève a une stratégie gagnante.

\item $\phi = \mbox{EX } \psi$. Donc $succ(s, \phi) = \{ (s', \psi) \mid (s,s') \in T \} $ et c'est à Ève de jouer. Comme $\sigma,q_0 \vDash \phi$, il existe un successeur $q$ de $q_0$ tel que $\sigma\circ (+ 1),q \vDash \psi$. Donc, par hypothèse de récurrence, il existe une stratégie gagnante pour Ève à partir de $(q, \psi)$. Comme c'est à Ève de jouer, il suffit qu'elle joue vers cet état.

\item $\phi = \mbox{AX } \psi$. Donc $succ(q_0, \phi) = \{ (q, \psi) \mid (q_0,q) \in T \} $ et c'est à Adam de jouer. Comme $\sigma,q_0 \vDash \phi$, pour tous les successeurs $q$ de $q_0$, on a que $\sigma\circ (+ 1),q \vDash \psi$. Donc, par hypothèse de récurrence, il existe une stratégie gagnante pour Ève pour chacun des $(q, \psi)$. C'est à Adam de jouer, mais quelque soit son choix, Ève a une stratégie gagnante. Donc Ève a une stratégie gagnante.

\item $\phi = \mbox{E } \psi_1 \mbox{ U } \psi_2$ ou $\phi = \mbox{E } \psi_1 \mbox{ W } \psi_2$. Donc $succ(q_0,\phi) = \{ (q_0,\psi_2), (q_0,\psi_1 \land \mbox{EX }  \phi) \}$ et c'est à Ève de jouer. $\sigma,q_0 \vDash \phi$, il y a donc deux possiblités :
\begin{itemize}
	\item soit $\sigma,q_0 \vDash \psi_2$ et, par hypothèse de récurrence, alors Ève a une stratégie gagnante à partir de $(q_0,\psi_2)$. Il lui suffit donc de choisir cette transition.
	\item TODO
\end{itemize}
Donc Ève a une stratégie gagnante dans tous les cas.

\item $\phi = \mbox{A } \psi_1 \mbox{ U } \psi_2$ ou $\phi = \mbox{A } \psi_1 \mbox{ W } \psi_2$. Donc $succ(q_0,\phi) = \{ (q_0,\psi_2), (q_0,\psi_1 \land \mbox{EX }  \phi) \}$ et c'est à Adam de jouer. $\sigma,q_0 \vDash \phi$, il y a donc deux possibilités :
\begin{itemize}
	\item soit $\sigma,q_0 \vDash \psi_2$ et, par hypothèse de récurrence, alors Ève a une stratégie gagnante à partir de $(q_0,\psi_2)$.
	\item TODO
\end{itemize}
Donc quelque-soit le choix d'Adam, Ève a une stratégie gagnante.
\end{itemize}

\subsection{Résolution des jeux faibles de parité}
\begin{algorithmic}[1]
	\REQUIRE $(V, E)$ \COMMENT{le graphe du jeu}
	\STATE $CFC \leftarrow compute\_cfc(V, E)$
	\STATE $CFC \leftarrow topological\_sort(CFC)$
	\STATE $CFC \leftarrow reverse(CFC)$
	\STATE $winners \leftarrow new\_array(size(V), \bot)$
	\FOR { $v_k \in CFC$ }
		\STATE $\gamma \leftarrow get\_winner(v_k)$
%		\STATE $reachable\_cfc \leftarrow get\_reachable(CFC, v_k)$
		\FOR { $x \in v_k$ }
			\IF { $get\_player(x) \neq \gamma$ }
				\FOR { $(x, y) \in E$ }
					\IF { $y \notin v_k \land winners[y] \neq \gamma$ }
						\STATE $winners[x] \leftarrow get\_player(x)$
					\ENDIF
				\ENDFOR
				\IF { $winners[x] = \bot$ }
					\STATE $winners[x] = \gamma$
				\ENDIF
			\ELSE
				\STATE $winners[x] = \gamma$
			\ENDIF
		\ENDFOR
	\ENDFOR




\end{algorithmic}


\end{document}
